{
  "scopeName": "source.mf6",
  "patterns": [
    {
      "include": "#comment"
    },
    {
      "include": "#reserved"
    },
    {
      "include": "#readarrayctrl"
    },
    {
      "include": "#readarrayvar"
    },
    {
      "include": "#filehandler"
    },
    {
      "include": "#model"
    },
    {
      "include": "#package"
    },
    {
      "include": "#block"
    },
    {
      "include": "#keyword"
    },
    {
      "include": "#valid"
    },
    {
      "include": "#file"
    }
  ],
  "repository": {
    "comment": {
      "patterns": [
        {
          "name": "comment.mf6",
          "match": "(?<=^|\\s)(#|!|//).*"
        }
      ]
    },
    "reserved": {
      "patterns": [
        {
          "name": "keyword.control.mf6",
          "match": "(?i)(?<=^|\\s)(BEGIN|END)(?=\\s|$)"
        }
      ]
    },
    "readarrayctrl": {
      "patterns": [
        {
          "name": "entity.other.attribute-name.mf6",
          "match": "(?i)(?<=^|\\s)(CONSTANT|INTERNAL\\s{1,2}FACTOR)(?=\\s|$)"
        }
      ]
    },
    "readarrayvar": {
      "patterns": [
        {
          "name": "entity.other.attribute-name.mf6",
          "match": "(?i)(?<=^|\\s)(FACTOR|\\(BINARY\\)|IPRN)(?=\\s|$)"
        }
      ]
    },
    "filehandler": {
      "patterns": [
        {
          "name": "entity.other.attribute-name.mf6",
          "match": "(?i)(?<=^|\\s)(OPEN\\/CLOSE|FILEIN|FILEOUT)(?=\\s|$)"
        }
      ]
    },
    "model": {
      "patterns": [
        {
          "name": "entity.name.function.mf6",
          "match": "(?i)(?<=^|\\s)(gwf6-gwf6|gwf6-gwt6|gwf6|gwt6)(?=\\s|$)"
        }
      ]
    },
    "package": {
      "patterns": [
        {
          "name": "entity.name.function.mf6",
          "match": "(?i)(?<=^|\\s)(disv6|uzt6|uzf6|mst6|csub6|disu6|lkt6|sft6|oc6|sto6|gnc6|obs6|ssm6|mvt6|wel6|npf6|src6|sfr6|drn6|dis6|mvr6|mwt6|chd6|buy6|adv6|riv6|maw6|evt6|cnc6|ghb6|hfb6|fmi6|lak6|ic6|dsp6|rch6|ist6)(?=\\s|$)"
        }
      ]
    },
    "block": {
      "patterns": [
        {
          "name": "entity.name.type.mf6",
          "match": "(?i)(?<=\\bBEGIN\\s*|\\bEND\\s*)(?<=^|\\s)({% for block in blocks %}{{ block }}{% if not loop.last %}|{% endif %}{% endfor %})(?=\\s|$)"
        }
      ]
    },
    "keyword": {
      "patterns": [
        {
          "name": "entity.name.function.mf6",
          "match": "(?i)(?<=^|\\s)({% for keyword in keywords %}{{ keyword }}{% if not loop.last %}|{% endif %}{% endfor %})(?=\\s|$)"
        }
      ]
    },
    "valid": {
      "patterns": [
        {
          "name": "entity.name.function.mf6",
          "match": "(?i)(?<=^|\\s)({% for valid in valids %}{{ valid }}{% if not loop.last %}|{% endif %}{% endfor %})(?=\\s|$)"
        }
      ]
    },
    "file": {
      "patterns": [
        {
          "name": "string.mf6",
          "match": "'[^']*'|\\b(?!\\d+\\b)[a-zA-Z0-9_./-]+\\.[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)*\\b|\\.\\./[a-zA-Z0-9_./-]+\\.[a-zA-Z0-9_-]+"
        }
      ]
    }
  }
}
